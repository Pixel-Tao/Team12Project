# 3D_TEAM12
## Team Members
- 최어진
- 성요셉
- 서웅비
- 김태호

## Project Description
- 캐릭터를 선택하고 웨이브 마다 생성되는 몬스터를 처치하고 보상을 얻어 기록을 갱신하는 게임입니다.
- 전투 스타일은 핵앤슬래시로, 몰려오는 몬스터들을 한번에 처치하는 재미를 느낄 수 있습니다.
- 캐릭터는 4가지 종류로 바바리안, 나이트, 도적, 마법사로 구성되어 있으며 각각 캐릭터 별로 능력치가 달라 다른 느낌의 전투를 할 수 있습니다.
- 웨이브 별로 생성되는 몬스터는 변칙적으로 생성되며 특정 웨이브 도달 시 보스급 몬스터도 생성 됩니다.
- 웨이브가 종료되면 장착가능한 아이템 및 소모품을 획득 할 수 있습니다.

## Keys
- 콤보 공격 : Mouse Left Button
- 특수 공격 : Mouse Right Button
- 이동 : WASD
- 회피 : SpaceBar
- 아이템 퀵슬롯 : 1,2
- 일시정지 및 설정 : Escape

## Project Key Features
- [unity-excel-importer](https://github.com/mikito/unity-excel-importer)를 통해 엑셀 데이터 시트를 SO 데이터 파일로 변환 합니다.
- 추가적으로 변환 된 데이터를 그룹화 하여 관리 할 수 있도록 구조화 하였습니다.
- 몬스터와 플레이어 캐릭터의 행동 패턴을 HFSM(Hierarchical Finite State Machine)을 통해 구현하였습니다.
- Command Pattern을 통해 플레이어 캐릭터의 스킬 및 퀵 슬롯을 구현하였습니다.

## Project 필수 기능
- 주인공 캐릭터의 이동 및 기본 동작 구현
- 레벨 디자인 및 적절한 게임 오브젝트 배치
- 충돌 처리 및 피해량 계산
- UI/UX 요소
- 추가 구현 사항 중 선택하여 3가지 이상 구현

## Project 추가 기능
- 다양한 적 캐릭터와 그들의 행동 패턴 추가
- 다양한 무기나 아이템 추가
- AI 적 캐릭터의 인공 지능 개선
- 사운드 및 음악 효과 추가
- 특수 효과 및 파티클 시스템 추가
- 게임 내 콘텐츠 생성 도구
- 게임 패턴 분석 및 밸런싱

## 트러블 슈팅
1. 게임매니저 및 게임 UI
  - 현상 : 게임 매니저의 함수들이 중복되는 부분이 많고 코드가 지저분하였다. 또한 UI가 복사되어 2개가 생성되는 문제가 있었다.
  - 원인: 게임 매니저 속 함수에 중복되는 코드들이 인스턴스화가 한 번 더 되도록 되어 있었다.
  - 해결법: 지저분한 게임 매니저의 함수들을 리팩토링하여 중복되는 코드를 함수로 사용하도록 하고, 중복 생성되던 UI를 UI 게임 씬에 넣어 관리하여 한 번에 생성 및 표시를 갱신할 수 있도록 하여 문제점을 개선하였다.

2. 애니메이션 이벤트
  - 현상 : 애니메이션에 등록한 이벤트가 발동되지 않는 문제가 있었다. 애니메이션이 조기종료 되면서 애니메이션에 등록된 이벤트를 건너뛴 것이다.
  - 원인 : 몬스터 종류에 따라 다른 애니메이션을 적용하기 위해 Animator Override Controller를 사용했다. 애니메이터의 Exit Time이 기본 애니메이션의 길이에 고정되어 있기 때문에, 기본 애니메이션보다 오버라이드된 애니메이션의 길이가 더 길면 애니메이션이 끊기는 것이었다.
  - 해결 : Exit Time을 1로 설정하면 애니메이션이 끝까지 재생되고 애니메이션 이벤트를 호출한다.

3. Particle System 설정
  - 기존 접근 : Projectile의 데이터 값으로 시간이 지날수록 크기가 커지는 기능을 구현
  - 원인 : Particle System의 기본 설정상 transform 의 scale로 크기가 변경되지 않던 문제가 발생, 또한 설정이상으로 파티클 크기 자체가 커져 이펙트가 확대 되는 것으로 보여짐
  - 해결 : Scaling Mode 를 Herarchy로 설정하면 transform.localScale로 크기 조절이 가능하고, Shape 로 설정하면 Particle System의 Shape 내 scale로 재생 범위를 조절 하여 동적으로 크기 조절을 할 수 있었다.
  - 결과 : 동적으로 scale을 조절하면서 본체의 크기는 커지고 먼지나 스파크 같은 부가적인 파티클의 크기는 범위만 넓혀주는 기능을 구현 할 수 있었다.
